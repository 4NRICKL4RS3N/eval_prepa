{% extends "components/dashboard_base.html" %}

{% block title %}
    {{ model_name }}
{% endblock %}

{% block content %}
    <div id="error-message" class="alert alert-danger" style="display:none;" role="alert"></div>
    {% include 'components/form.html' with id="save-form" action="" method="post" form=form enctype="multipart/form-data" %}

    <form method="get">
        {% csrf_token %}
        {{ search_form.as_p }}
        <button type="submit">Search</button>
    </form>
    <a class="btn btn-primary" href="{% url 'index' model_name %}">Reset</a>

    {% if data %}
        {% include 'components/table-data.html' with fields=fields data=data model_name=model_name %}
    {% else %}
        <p>No result</p>
    {% endif %}
    
    <form id="import-csv" action="{% url 'import-csv' model_name %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <h2>Import from csv</h2>
        <input type="file" name="csv-file">
        <input type="submit">
    </form>
{% endblock %}