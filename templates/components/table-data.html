{% load custom_tags %}

<style>
    .table_head:hover {
        cursor: pointer;
    }
</style>

<table id="data_table" class="table datatable">
    <thead>
    <tr>
        {% for field in fields %}
            <th class="table_head" column="{{ field }}" order="{{ sort_order }}">
                {{ field }}
                <span style="color: Dodgerblue;">
                            <i class="sort-icon fa fa-sort"></i>
                        </span>
            </th>
        {% endfor %}
        <th></th>
        <th></th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    {% for item in data %}
        <tr>
            {% for field in fields %}
                {% if item|get_attribute:field|get_type == "str" %}
                    <td style="text-align: left;">{{ item|get_attribute:field }}</td>
                {% else %}
                    <td style="text-align: right;">{{ item|get_attribute:field }}</td>
                {% endif %}
            {% endfor %}
            <td>
                <a href="" class="btn btn-primary">view</a>
            </td>
            <td>
                <a href="{% url 'model-update' model_name item|get_attribute:'id' %}" class="btn btn-warning">update</a>
            </td>
            <td>
                <a href="{% url 'model-delete' model_name item|get_attribute:'id' %}" class="btn btn-danger">delete</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
<a href="{% url 'index' model_name %}?export=pdf" class="btn btn-primary">export</a>